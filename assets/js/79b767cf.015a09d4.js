"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["42765"],{52859:function(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>h});var a=r(53868),i=r(74848),t=r(84429);let s={title:"Introducing Ariadne GraphQL Proxy"},o,l={authorsImageUrls:[]},h=[{value:"Getting the code",id:"getting-the-code",level:2},{value:"Minimal proxy example",id:"minimal-proxy-example",level:2},{value:"Combining schemas",id:"combining-schemas",level:2},{value:"Caching fields",id:"caching-fields",level:2},{value:"Relations",id:"relations",level:2},{value:"Further reading",id:"further-reading",level:2},{value:"Future plans",id:"future-plans",level:2}];function c(e){let n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Ariadne GraphQL Proxy is now available!"}),"\n",(0,i.jsx)(n.p,{children:"Ariadne GraphQL Proxy is a Python toolkit for implementing GraphQL APIs that can combine local and remote schemas into single graph."}),"\n",(0,i.jsx)(n.p,{children:"While this is a 0.1 release, plenty of utilities are already implemented:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Query router that splits GraphQL queries from clients into a valid subqueries for upstream GraphQL servers."}),"\n",(0,i.jsx)(n.li,{children:"Foreign keys and relations between schemas."}),"\n",(0,i.jsx)(n.li,{children:"Caching framework for both resolvers and parts of queries."}),"\n",(0,i.jsx)(n.li,{children:"Functions for schema manipulation that enable adding, replacing and removing existing GraphQL types, fields and resolvers."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Please note that Ariadne GraphQL Proxy is currently in technology preview stage."}),"\n",(0,i.jsx)(n.h2,{id:"getting-the-code",children:"Getting the code"}),"\n",(0,i.jsx)(n.p,{children:"Ariadne GraphQL Proxy from PyPi:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"pip install ariadne-graphql-proxy\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Source code is hosted on ",(0,i.jsx)(n.a,{href:"https://github.com/mirumee/ariadne-graphql-proxy/tree/main",children:"GitHub"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"minimal-proxy-example",children:"Minimal proxy example"}),"\n",(0,i.jsx)(n.p,{children:"Following code uses Ariadne and Ariadne GraphQL Proxy to create simple pass-through proxy for remote GraphQL API:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from ariadne.asgi import GraphQL\nfrom ariadne_graphql_proxy import ProxySchema, get_context_value\n\nproxy_schema = ProxySchema()\nproxy_schema.add_remote_schema("https://example.com/first-graphql/")\n\nfinal_schema = proxy_schema.get_final_schema()\n\napp = GraphQL(\n    final_schema,\n    context_value=get_context_value,\n    root_value=proxy_schema.root_resolver,\n)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"combining-schemas",children:"Combining schemas"}),"\n",(0,i.jsxs)(n.p,{children:["If multiple schemas are added to ",(0,i.jsx)(n.code,{children:"ProxySchema"}),", those are combined with latter fields replacing former's:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from ariadne.asgi import GraphQL\nfrom ariadne_graphql_proxy import ProxySchema, get_context_value\n\nfrom myapp.schema import local_schema\n\nproxy_schema = ProxySchema()\nproxy_schema.add_remote_schema("https://example.com/first-graphql/")\nproxy_schema.add_remote_schema("https://example.com/other-graphql/")\nproxy_schema.add_schema(local_schema)\n\nfinal_schema = proxy_schema.get_final_schema()\n\napp = GraphQL(\n    final_schema,\n    context_value=get_context_value,\n    root_value=proxy_schema.root_resolver,\n)\n'})}),"\n",(0,i.jsx)(n.p,{children:"Ariadne GraphQL Proxy will split root GraphQL query received from clients into separate queries it then will route to other services."}),"\n",(0,i.jsx)(n.h2,{id:"caching-fields",children:"Caching fields"}),"\n",(0,i.jsx)(n.p,{children:"Ariadne GraphQL Proxy implements two caching strategies for GraphQL resolvers:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"simple strategy where resolver's return value is cached based on its arguments."}),"\n",(0,i.jsx)(n.li,{children:"strategy where resolver's return value is cached based on its arguments and queried subfields."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Additional cache schemes based on contents of GraphQL context are also supported."}),"\n",(0,i.jsx)(n.p,{children:"Basic caching framework with swap-able cache backends is implemented, with example in-memory backend."}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"https://github.com/mirumee/ariadne-graphql-proxy/blob/main/GUIDE.md#cache-framework",children:"cache guide"})," for more detailed information."]}),"\n",(0,i.jsx)(n.h2,{id:"relations",children:"Relations"}),"\n",(0,i.jsx)(n.p,{children:"Ariadne GraphQL Proxy supports relations spanning multiple schemas. Those relations enable one schema to define mutation returning a type which's definition lives in other schema."}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"https://github.com/mirumee/ariadne-graphql-proxy/blob/main/GUIDE.md#foreign-keys",children:"foreign keys guide"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"further-reading",children:"Further reading"}),"\n",(0,i.jsxs)(n.p,{children:["No full documentation for Ariadne GraphQL Proxy currently exists, but for available use cases see the ",(0,i.jsx)(n.a,{href:"https://github.com/mirumee/ariadne-graphql-proxy/blob/main/GUIDE.md",children:"developer guide document"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"future-plans",children:"Future plans"}),"\n",(0,i.jsx)(n.p,{children:"This is only a beginning of the Ariadne GraphQL Proxy's story. We've got plenty of new ideas and insights from the experience of building the 0.1 version alone. In coming weeks and months we will experiment with different scenarios and setups to see what improvements and new features can be added to project."}),"\n",(0,i.jsxs)(n.p,{children:["We would also like to invite other Python developers to join us. We welcome feedback, bug reports and feature requests on ",(0,i.jsx)(n.a,{href:"https://github.com/mirumee/ariadne-graphql-proxy/issues",children:"our GitHub"}),"."]})]})}function d(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},84429:function(e,n,r){r.d(n,{R:()=>s,x:()=>o});var a=r(96540);let i={},t=a.createContext(i);function s(e){let n=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(t.Provider,{value:n},e.children)}},53868:function(e){e.exports=JSON.parse('{"permalink":"/blog/2023/06/15/ariadne-graphql-proxy","source":"@site/blog/2023-06-15-ariadne-graphql-proxy.md","title":"Introducing Ariadne GraphQL Proxy","description":"Ariadne GraphQL Proxy is now available!","date":"2023-06-15T00:00:00.000Z","tags":[],"readingTime":2.44,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Introducing Ariadne GraphQL Proxy"},"unlisted":false,"prevItem":{"title":"Ariadne 0.20","permalink":"/blog/2023/06/21/ariadne-0-20-0"},"nextItem":{"title":"Ariadne Codegen 0.7","permalink":"/blog/2023/06/01/ariadne-codegen-0-7"}}')}}]);