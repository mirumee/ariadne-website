"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["26786"],{19711:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>a,toc:()=>c,default:()=>d,metadata:()=>t,assets:()=>l,contentTitle:()=>o});var t=JSON.parse('{"id":"asgi","title":"ASGI application","description":"Ariadne provides a GraphQL class that implements a production-ready ASGI application.","source":"@site/server_versioned_docs/version-0.4.0/asgi.md","sourceDirName":".","slug":"/asgi","permalink":"/server/0.4.0/asgi","draft":false,"unlisted":false,"tags":[],"version":"0.4.0","frontMatter":{"id":"asgi","title":"ASGI application"},"sidebar":"tutorialSidebar","previous":{"title":"Ariadne logo","permalink":"/server/0.4.0/logo"},"next":{"title":"WSGI application","permalink":"/server/0.4.0/wsgi"}}'),s=i(74848),r=i(84429);let a={id:"asgi",title:"ASGI application"},o,l={},c=[{value:"Using with an ASGI server",id:"using-with-an-asgi-server",level:2},{value:"Configuration options",id:"configuration-options",level:3}];function p(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Ariadne provides a ",(0,s.jsx)(n.code,{children:"GraphQL"})," class that implements a production-ready ASGI application."]}),"\n",(0,s.jsx)(n.h2,{id:"using-with-an-asgi-server",children:"Using with an ASGI server"}),"\n",(0,s.jsx)(n.p,{children:"First create an application instance pointing it to the schema to serve:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# in myasgi.py\nimport os\n\nfrom ariadne import make_executable_schema\nfrom ariadne.asgi import GraphQL\nfrom mygraphql import type_defs, resolvers\n\nschema = make_executable_schema(type_defs, resolvers)\napplication = GraphQL(schema)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Then point an ASGI server such as uvicorn at the above instance."}),"\n",(0,s.jsx)(n.p,{children:"Example using uvicorn:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-console",children:"$ uvicorn myasgi:application\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configuration-options",children:"Configuration options"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"GraphQL"})," takes mostly the same options that ",(0,s.jsx)(n.a,{href:"/server/0.4.0/api-reference#configuration-options",children:(0,s.jsx)(n.code,{children:"graphql"})})," does, but with two differences:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"context_value"})," can be callable that will be called with single argument (",(0,s.jsx)(n.a,{href:"https://www.starlette.io/requests/#request",children:(0,s.jsx)(n.code,{children:"Request"})})," instance) and its return value will be used for rest of query execution as ",(0,s.jsx)(n.code,{children:"context_value"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"keepalive"}),', if given a number of seconds, will send "keepalive" packets to the client in an attempt to prevent the connection from being dropped due to inactivity.']}),"\n"]})]})}function d(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},84429:function(e,n,i){i.d(n,{R:()=>a,x:()=>o});var t=i(96540);let s={},r=t.createContext(s);function a(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);