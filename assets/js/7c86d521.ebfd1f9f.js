"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["77494"],{66162:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>i,toc:()=>l,default:()=>u,metadata:()=>s,assets:()=>o,contentTitle:()=>c});var s=JSON.parse('{"id":"disabling-stack-traces","title":"Disabling stack traces","description":"Stack traces","source":"@site/server_versioned_docs/version-0.25/disabling-stack-traces.md","sourceDirName":".","slug":"/disabling-stack-traces","permalink":"/server/disabling-stack-traces","draft":false,"unlisted":false,"tags":[],"version":"0.25","frontMatter":{"id":"disabling-stack-traces","title":"Disabling stack traces","sidebar_label":"Disabling stack traces"},"sidebar":"tutorialSidebar","previous":{"title":"Hiding field suggestions","permalink":"/server/hiding-field-suggestions"},"next":{"title":"Continuous security testing","permalink":"/server/continuous-security-testing"}}'),a=t(74848),r=t(84429);let i={id:"disabling-stack-traces",title:"Disabling stack traces",sidebar_label:"Disabling stack traces"},c,o={},l=[{value:"Stack traces",id:"stack-traces",level:2},{value:"Description",id:"description",level:3},{value:"Hiding stack traces",id:"hiding-stack-traces",level:3}];function d(e){let n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"stack-traces",children:"Stack traces"}),"\n",(0,a.jsx)(n.h3,{id:"description",children:"Description"}),"\n",(0,a.jsx)(n.p,{children:"The Ariadne engine includes a debug mode which attaches stacktraces and error properties to GraphQL requests."}),"\n",(0,a.jsx)(n.p,{children:"In order to protect against engine targeted attacks and ensure that credentials do not leak in stacktraces, it is essential to disable debug mode in production."}),"\n",(0,a.jsxs)(n.p,{children:["The following presents an error occuring when the server tries to fetch data from the database. This response exposes the ",(0,a.jsx)(n.strong,{children:"complete database URL."})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "me": null\n  },\n  "errors": [\n    {\n      "message": "no such column: \\"username\\"",\n      "locations": [\n        {\n          "line": 1,\n          "column": 16\n        }\n      ],\n      "path": [\n        "request0"\n      ],\n      "extensions": {\n        "exception": {\n          "stacktrace": [\n            "Traceback (most recent call last):",\n            "  File \\"/root/.cache/pypoetry/virtualenvs/gontoz-9TtSrW0h-py3.11/lib/python3.11/site-packages/graphql/execution/execute.py\\", line 528, in await_result",\n            "    return_type, field_nodes, info, path, await result",\n            "                                          ^^^^^^^^^^^^",\n            "  File \\"/root/.cache/pypoetry/virtualenvs/gontoz-9TtSrW0h-py3.11/lib/python3.11/site-packages/ariadne/utils.py\\", line 70, in async_wrapper",\n            "    return await func(*args, **convert_to_snake_case(kwargs))",\n            "           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^",\n            "  File \\"/app/gontoz/queries.py\\", line 100, in resolve_transactions",\n            "    return database.get_transaction_from_vuln(",\n            "           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^",\n            "  File \\"/app/gontoz/database_manager/main.py\\", line 274, in get_transaction_from_vuln",\n            "    for transaction in self.cur.execute(query).fetchall():",\n            "                       ^^^^^^^^^^^^^^^^^^^^^^^",\n            "sqlite3.OperationalError: no such column: None"\n          ],\n          "context": {\n            "self": "<myapp.datab...x7f502112f890>",\n            "user_id": "None",\n            "query": "\'SELECT * FRO...user_to = 125\'",\n            "transactions": "[]",\n            "database_url": "postgresql://user:pass@db:5432/db",\n          }\n        }\n      }\n    }\n  ]\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"hiding-stack-traces",children:"Hiding stack traces"}),"\n",(0,a.jsx)(n.p,{children:"When running an application in production, make sure the debug mode is not enabled."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"app = GraphQL(schema, debug=False)\n"})})]})}function u(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},84429:function(e,n,t){t.d(n,{R:()=>i,x:()=>c});var s=t(96540);let a={},r=s.createContext(a);function i(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);