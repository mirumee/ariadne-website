"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["99778"],{25412:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>t,toc:()=>d,default:()=>p,metadata:()=>i,assets:()=>l,contentTitle:()=>o});var i=JSON.parse('{"id":"asgi","title":"ASGI application","description":"Ariadne provides a GraphQL class that implements a production-ready ASGI application.","source":"@site/server_versioned_docs/version-0.17/asgi.md","sourceDirName":".","slug":"/asgi","permalink":"/server/0.17/asgi","draft":false,"unlisted":false,"tags":[],"version":"0.17","frontMatter":{"id":"asgi","title":"ASGI application"},"sidebar":"tutorialSidebar","previous":{"title":"OpenTracing","permalink":"/server/0.17/open-tracing"},"next":{"title":"WSGI application","permalink":"/server/0.17/wsgi"}}'),s=r(74848),a=r(84429);let t={id:"asgi",title:"ASGI application"},o,l={},d=[{value:"Using with an ASGI server",id:"using-with-an-asgi-server",level:2},{value:"Configuration options",id:"configuration-options",level:3},{value:"<code>keepalive</code>",id:"keepalive",level:4},{value:"<code>http_handler</code>",id:"http_handler",level:4},{value:"<code>websocket_handler</code>",id:"websocket_handler",level:4},{value:"<code>explorer</code>",id:"explorer",level:4},{value:"<code>GraphQLHTTPHandler</code>",id:"graphqlhttphandler",level:3},{value:"Optional arguments",id:"optional-arguments",level:3},{value:"<code>extensions</code>",id:"extensions",level:4},{value:"<code>middleware</code>",id:"middleware",level:4}];function c(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Ariadne provides a ",(0,s.jsx)(n.code,{children:"GraphQL"})," class that implements a production-ready ASGI application."]}),"\n",(0,s.jsx)(n.h2,{id:"using-with-an-asgi-server",children:"Using with an ASGI server"}),"\n",(0,s.jsx)(n.p,{children:"First create an application instance pointing it to the schema to serve:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# in myasgi.py\nimport os\n\nfrom ariadne import make_executable_schema\nfrom ariadne.asgi import GraphQL\nfrom mygraphql import type_defs, resolvers\n\nschema = make_executable_schema(type_defs, resolvers)\napplication = GraphQL(schema)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Then point an ASGI server such as uvicorn at the above instance."}),"\n",(0,s.jsx)(n.p,{children:"Example using uvicorn:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-console",children:"$ uvicorn myasgi:application\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configuration-options",children:"Configuration options"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"GraphQL"})," takes the same options that ",(0,s.jsx)(n.a,{href:"/server/0.17/api-reference#configuration-options",children:(0,s.jsx)(n.code,{children:"graphql"})})," does, but accepts extra options specific to it:"]}),"\n",(0,s.jsx)(n.h4,{id:"keepalive",children:(0,s.jsx)(n.code,{children:"keepalive"})}),"\n",(0,s.jsx)(n.p,{children:'If given a number of seconds, will send "keepalive" packets to the client in an attempt to prevent the connection from being dropped due to inactivity.'}),"\n",(0,s.jsx)(n.h4,{id:"http_handler",children:(0,s.jsx)(n.code,{children:"http_handler"})}),"\n",(0,s.jsxs)(n.p,{children:["Instance of a class extending ",(0,s.jsx)(n.code,{children:"ariadne.asgi.handlers.GraphQLHTTPHandler"}),". Used to handle HTTP requests."]}),"\n",(0,s.jsxs)(n.p,{children:["If not set, ",(0,s.jsx)(n.code,{children:"ariadne.asgi.handlers.GraphQLHTTPHandler"})," is used."]}),"\n",(0,s.jsx)(n.h4,{id:"websocket_handler",children:(0,s.jsx)(n.code,{children:"websocket_handler"})}),"\n",(0,s.jsxs)(n.p,{children:["Instance of a class extending ",(0,s.jsx)(n.code,{children:"ariadne.asgi.handlers.GraphQLWebsocketHandler"}),". Used to handle WebSocket connections."]}),"\n",(0,s.jsxs)(n.p,{children:["If not set, ",(0,s.jsx)(n.code,{children:"GraphQLWSHandler"})," (implementing ",(0,s.jsx)(n.a,{href:"https://github.com/apollographql/subscriptions-transport-ws",children:(0,s.jsx)(n.code,{children:"subscriptions-transport-ws"})})," protocol) is used by default."]}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/server/subscriptions#subscription-protocols",children:"subscriptions"})," documentation for more details."]}),"\n",(0,s.jsx)(n.h4,{id:"explorer",children:(0,s.jsx)(n.code,{children:"explorer"})}),"\n",(0,s.jsx)(n.p,{children:"GraphQL Explorer to use by this server."}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/server/explorers",children:"explorers"})," documentation for more details."]}),"\n",(0,s.jsx)(n.h3,{id:"graphqlhttphandler",children:(0,s.jsx)(n.code,{children:"GraphQLHTTPHandler"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"GraphQLHTTPHandler(extensions=None, middleware=None)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Default handler used by Ariadne's ASGI GraphQL app to handle HTTP requests."}),"\n",(0,s.jsx)(n.h3,{id:"optional-arguments",children:"Optional arguments"}),"\n",(0,s.jsx)(n.h4,{id:"extensions",children:(0,s.jsx)(n.code,{children:"extensions"})}),"\n",(0,s.jsxs)(n.p,{children:["List of extensions or callable returning those. See ",(0,s.jsx)(n.a,{href:"/server/extensions#enabling-extensions",children:"extensions documentation"})," for more information and examples."]}),"\n",(0,s.jsx)(n.h4,{id:"middleware",children:(0,s.jsx)(n.code,{children:"middleware"})}),"\n",(0,s.jsxs)(n.p,{children:["List of middlewares or callable returning those. See ",(0,s.jsx)(n.a,{href:"/server/middleware#custom-middleware-example",children:"middleware documentation"})," for more information and examples."]})]})}function p(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},84429:function(e,n,r){r.d(n,{R:()=>t,x:()=>o});var i=r(96540);let s={},a=i.createContext(s);function t(e){let n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);