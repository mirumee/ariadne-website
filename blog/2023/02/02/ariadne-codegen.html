<!doctype html><html lang=en dir=ltr class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Announcing Ariadne Codegen! | Ariadne · Python GraphQL Schema-first</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://ariadnegraphql.org/img/docusaurus-social-card.jpg><meta data-rh=true name=twitter:image content=https://ariadnegraphql.org/img/docusaurus-social-card.jpg><meta data-rh=true property=og:url content=https://ariadnegraphql.org/blog/2023/02/02/ariadne-codegen><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docusaurus_tag content=default><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docsearch:docusaurus_tag content=default><meta data-rh=true property=og:title content="Announcing Ariadne Codegen! | Ariadne · Python GraphQL Schema-first"><meta data-rh=true name=description content="Ariadne Codegen!"><meta data-rh=true property=og:description content="Ariadne Codegen!"><meta data-rh=true property=og:type content=article><meta data-rh=true property=article:published_time content=2023-02-02T00:00:00.000Z><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://ariadnegraphql.org/blog/2023/02/02/ariadne-codegen><link data-rh=true rel=alternate href=https://ariadnegraphql.org/blog/2023/02/02/ariadne-codegen hreflang=en><link data-rh=true rel=alternate href=https://ariadnegraphql.org/blog/2023/02/02/ariadne-codegen hreflang=x-default><link data-rh=true rel=preconnect href=https://BYJBYPP90Q-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@id":"https://ariadnegraphql.org/blog/2023/02/02/ariadne-codegen","@type":"BlogPosting","author":[],"datePublished":"2023-02-02T00:00:00.000Z","description":"Ariadne Codegen!","headline":"Announcing Ariadne Codegen!","isPartOf":{"@id":"https://ariadnegraphql.org/blog","@type":"Blog","name":"Blog"},"keywords":[],"mainEntityOfPage":"https://ariadnegraphql.org/blog/2023/02/02/ariadne-codegen","name":"Announcing Ariadne Codegen!","url":"https://ariadnegraphql.org/blog/2023/02/02/ariadne-codegen"}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Ariadne · Python GraphQL Schema-first RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Ariadne · Python GraphQL Schema-first Atom Feed"><link rel=search type=application/opensearchdescription+xml title="Ariadne · Python GraphQL Schema-first" href=/opensearch.xml><link rel=stylesheet href=/assets/css/styles.8871cce7.css><script src=/assets/js/runtime~main.c56cfe4b.js defer></script><script src=/assets/js/main.4899d341.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/logo-horizontal-sm.png><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo-horizontal-sm.png alt="Ariadne Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/logo-horizontal-sm.png alt="Ariadne Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href=/server/intro>Server Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/server/intro>0.25</a><ul class=dropdown__menu><li><a class=dropdown__link href=/server/next/intro>Next</a><li><a class=dropdown__link href=/server/intro>0.25</a><li><a class=dropdown__link href=/server/0.24/intro>0.24</a><li><a class=dropdown__link href=/server/0.23/intro>0.23</a><li><a class=dropdown__link href=/server/0.22/intro>0.22</a><li><a class=dropdown__link href=/server/0.21/intro>0.21</a><li><a class=dropdown__link href=/server/0.20/intro>0.20</a><li><a class=dropdown__link href=/server/0.19/intro>0.19</a><li><a class=dropdown__link href=/server/0.18/intro>0.18</a><li><a class=dropdown__link href=/server/0.17/intro>0.17</a><li><a class=dropdown__link href=/server/0.16/intro>0.16</a><li><a class=dropdown__link href=/server/0.15/intro>0.15</a><li><a class=dropdown__link href=/server/0.14.0/intro>0.14.0</a><li><a class=dropdown__link href=/server/0.13.0/intro>0.13.0</a><li><a class=dropdown__link href=/server/0.12.0/intro>0.12.0</a><li><a class=dropdown__link href=/server/0.11.0/intro>0.11.0</a><li><a class=dropdown__link href=/server/0.10.0/intro>0.10.0</a><li><a class=dropdown__link href=/server/0.9.0/intro>0.9.0</a><li><a class=dropdown__link href=/server/0.8.0/intro>0.8.0</a><li><a class=dropdown__link href=/server/0.7.0/intro>0.7.0</a><li><a class=dropdown__link href=/server/0.6.0/intro>0.6.0</a><li><a class=dropdown__link href=/server/0.5.0/intro>0.5.0</a><li><a class=dropdown__link href=/server/0.4.0/intro>0.4.0</a></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/blog>Blog</a><a class="navbar__item navbar__link" href=/community>Community</a><a href="https://github.com/mirumee/Ariadne?tab=readme-ov-file#ariadne-ecosystem" target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role=group><h3 class=yearGroupHeading_rMGB>2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/blog/2024/12/19/ariadne-0-24>Ariadne 0.24</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/blog/2024/03/26/ariadne-graphql-proxy-0-3>Ariadne GraphQL Proxy 0.3</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/blog/2024/03/18/ariadne-0-23>Ariadne 0.23</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/blog/2024/03/04/ariadne-codegen-0-13>Ariadne Codegen 0.13</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/blog/2024/02/21/ariadne-graphql-modules-0-8>Ariadne GraphQL Modules 0.8</a></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class=title_f1Hy>Announcing Ariadne Codegen!</h1><div class="container_mt6G margin-vert--md"><time datetime=2023-02-02T00:00:00.000Z>February 2, 2023</time> · <!-- -->4 min read</div></header><div id=__blog-post-container class=markdown><p><img decoding=async loading=lazy alt="Ariadne Codegen!" src=/assets/images/ariadne-codegen-d1613d8daf90d33f2fca3e2250781aed.jpg width=1980 height=1040 class=img_ev3q></p>
<p>Today we are announcing first release of <a href=https://github.com/mirumee/ariadne-codegen target=_blank rel="noopener noreferrer">Ariadne Codegen</a>!</p>
<p>Ariadne Codegen is our solution for the problem of writing and maintaining a Python boilerplate code for GraphQL clients. It's a code generator that converts GraphQL queries into production ready GraphQL client for Python.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=the-story>The story<a href=#the-story class=hash-link aria-label="Direct link to The story" title="Direct link to The story">​</a></h2>
<p>Ariadne Codegen was created from our need for better solution for GraphQL Clients. At <a href=https://mirumee.com target=_blank rel="noopener noreferrer">Mirumee Software</a> we are writing a lot of Python services that integrate with or extend <a href=https://graphql.com/saleor/saleor target=_blank rel="noopener noreferrer">Saleor</a>, our GraphQL-first e-commerce software.</p>
<p>This means we are writing a lot of GraphQL clients, and a lot of those clients follow same structure:</p>
<ul>
<li>There's a module that evolves into a package named <code>saleor_client</code>.</li>
<li>This client implements functions like <code>get_shipping_methods</code> or <code>create_checkout</code> that map 1:1 to GraphQL queries and mutations implemented by Saleor.</li>
<li>Each of those functions takes arguments it packages into a variables dictionary and combines them with Python string containing a GraphQL query.</li>
<li>Each of those functions then does a <code>POST</code> request, handles errors and returns the result.</li>
</ul>
<p>Basically, we wrote functions upon a functions upon a functions that looked like this:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>async</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>create_checkout</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">client</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> email</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">  lines</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">dict</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> address</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> Address</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    address_json </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> address</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">json</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    variables </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token string" style=color:#e3116c>"channel"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"USD"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token string" style=color:#e3116c>"email"</span><span class="token plain"> email</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token string" style=color:#e3116c>"lines"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"variantId"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> variant</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"quantity"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> quantity</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token keyword" style=color:#00009f>for</span><span class="token plain"> variant</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> quantity </span><span class="token keyword" style=color:#00009f>in</span><span class="token plain"> lines</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">items</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token string" style=color:#e3116c>"shippingAddress"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> address</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token string" style=color:#e3116c>"billingAddress"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> address</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    query </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style=color:#e3116c>"""</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>    mutation CheckoutCreate($input: CheckoutCreateInput!) {</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>        checkoutCreate(input: $input) {</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>            checkout {</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>                id</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>            }</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>            errors {</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>                field</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>                message</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>                code</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>                variants</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>                lines</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>                addressType</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>            }</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>        }</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>    }</span><br></span><span class=token-line style=color:#393A34><span class="token triple-quoted-string string" style=color:#e3116c>    """</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    result </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>await</span><span class="token plain"> client</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">post</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        GRAPHQL_URL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        json</span><span class="token operator" style=color:#393A34>=</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"query"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> query</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"operationName"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"CheckoutCreate"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"variables"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"input"</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> variables</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic># Repackages HTTP errors from httpx into errors like</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic># `SaleorAuthenticationError`</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    raise_saleor_error</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">result</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    data </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>await</span><span class="token plain"> result</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">json</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> data</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">get</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"errors"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic># Repackage GraphQL errors</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        raise_graphql_error</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">data</span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>"errors"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> data</span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>"checkoutCreate"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>"checkout"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>"id"</span><span class="token punctuation" style=color:#393A34>]</span><br></span></code></pre></div></div>
<p>There's actually a very little variety in logic of those functions, and many of them are created by copying an already existing function and changing the variables and query string. For functions that return an objects, we would also maintain Pydantic models so we have result data packaged as types with code suggestions and MyPy checks instead of dicts and lists.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=automatization>Automatization<a href=#automatization class=hash-link aria-label="Direct link to Automatization" title="Direct link to Automatization">​</a></h3>
<p>Very quickly we've started to experiment with different approaches to automating this away:</p>
<ul>
<li>Code generator which is aware of the GraphQL schema and converted GraphQL operations into a Python package.</li>
<li>An WSDL-like client for GraphQL which also is aware of the GraphQL schema but did it's logic on the fly.</li>
</ul>
<p>First approach had a downside of requiring package to be regenerated on every new or changed query, but it had three upsides that we liked:</p>
<ul>
<li>It didn't have extra logic executed on the runtime, making it <strong>faster</strong>.</li>
<li>It's behavior didn't change on the runtime, making it easy to <strong>learn and debug</strong>.</li>
<li>Generated code played nicely with code suggestions in IDEs and Mypy without need for any extra work.</li>
</ul>
<p>Ariadne Codegen has grown from a complete rewrite of the original code generator that was created and used internally by a member of the Saleor Integrations Team.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=ariadne-codegen>Ariadne Codegen<a href=#ariadne-codegen class=hash-link aria-label="Direct link to Ariadne Codegen" title="Direct link to Ariadne Codegen">​</a></h2>
<p>Ariadne Codegen can be installed with pip:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$ pip install ariadne-codegen</span><br></span></code></pre></div></div>
<p>This will give you a new command, <code>ariadne-codegen</code>, which consumes the <code>ariadne-codegen</code> configuration from the <code>pyproject.toml</code> file.</p>
<p>Minimum required configuration is just paths to where the schema and queries are:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">[ariadne-codegen]</span><br></span><span class=token-line style=color:#393A34><span class="token plain">schema_path = "schema.graphql"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">queries_path = "queries.graphql"</span><br></span></code></pre></div></div>
<p>Create <code>schema.graphql</code>:</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>type</span><span class="token plain"> </span><span class="token class-name">Query</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token attr-name" style=color:#00a4db>hello</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token scalar">String</span><span class="token operator" style=color:#393A34>!</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<p>Create <code>queries.graphql</code>:</p>
<div class="language-graphql codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-graphql codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>query</span><span class="token plain"> </span><span class="token definition-query function" style=color:#d73a49>GetHello</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>hello</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<p>Now run the codegen:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">$ ariadne-codegen</span><br></span></code></pre></div></div>
<p>New directory <code>graphql_client</code> will be created for you. Feel free to explore its contents. It's <code>__init__.py</code> file will reexport what can be considered "public API" of your new GraphQL client.</p>
<p>You can now use the client in your project by importing the <code>Client</code> class from the <code>graphql_client</code> package:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>from</span><span class="token plain"> graphql_client </span><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> Client</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>async</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>def</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>do_smth_with_graphql_api</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>with</span><span class="token plain"> Client</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">base_url </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"http://my-client.com"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>as</span><span class="token plain"> client</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        result </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>await</span><span class="token plain"> client</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">get_hello</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic># `result` will be an instance of Pydantic model representing the result of</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic># `GetHello` query!</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>print</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">result</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">hello</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=available-options-and-features>Available options and features<a href=#available-options-and-features class=hash-link aria-label="Direct link to Available options and features" title="Direct link to Available options and features">​</a></h2>
<p>Ariadne Codegen already provides quite a few configuration and customization options:</p>
<ul>
<li>It can be setup to generate either async or sync GraphQL client.</li>
<li>It can be told to use custom base HTTP client class instead of default one.</li>
<li>It can include extra files in the final package.</li>
<li>Generated classes can be extended with extra behaviors using the <code>@mixin(...)</code> directive.</li>
</ul>
<p>See the <a href=https://github.com/mirumee/ariadne-codegen#readme target=_blank rel="noopener noreferrer">readme file</a> for all available options.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=known-limitations>Known limitations<a href=#known-limitations class=hash-link aria-label="Direct link to Known limitations" title="Direct link to Known limitations">​</a></h2>
<p>File uploads and GraphQL subscriptions are not supported.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=moving-forward>Moving forward<a href=#moving-forward class=hash-link aria-label="Direct link to Moving forward" title="Direct link to Moving forward">​</a></h2>
<p>You are welcome to share the love and give feedback for this library on <a href=https://github.com/mirumee/ariadne/discussions target=_blank rel="noopener noreferrer">Ariadne forums</a>!</p>
<p>If you've found a bug or have a PR, please use <a href=https://github.com/mirumee/ariadne-codegen/issues/ target=_blank rel="noopener noreferrer">Github issues</a>.</p>
<p>We've already started planning new features and improvements. Those are also public on <a href=https://github.com/mirumee/ariadne-codegen/issues/ target=_blank rel="noopener noreferrer">project's Github</a>.</div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/blog/2023/02/21/ariadne-0-18><div class=pagination-nav__sublabel>Newer post</div><div class=pagination-nav__label>Ariadne 0.18</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/blog/2023/01/09/ariadne-0-17-1><div class=pagination-nav__sublabel>Older post</div><div class=pagination-nav__label>Ariadne 0.17.1</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#the-story class="table-of-contents__link toc-highlight">The story</a><ul><li><a href=#automatization class="table-of-contents__link toc-highlight">Automatization</a></ul><li><a href=#ariadne-codegen class="table-of-contents__link toc-highlight">Ariadne Codegen</a><li><a href=#available-options-and-features class="table-of-contents__link toc-highlight">Available options and features</a><li><a href=#known-limitations class="table-of-contents__link toc-highlight">Known limitations</a><li><a href=#moving-forward class="table-of-contents__link toc-highlight">Moving forward</a></ul></div></div></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Ariadne ecosystem</div><ul class="footer__items clean-list"><li class=footer__item><a href="https://github.com/mirumee/ariadne?tab=readme-ov-file" target=_blank rel="noopener noreferrer" class=footer__link-item>Ariadne GraphQL Server<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://github.com/mirumee/ariadne-codegen?tab=readme-ov-file" target=_blank rel="noopener noreferrer" class=footer__link-item>Ariadne GraphQL Client<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://github.com/mirumee/ariadne-graphql-modules?tab=readme-ov-file" target=_blank rel="noopener noreferrer" class=footer__link-item>Ariadne GraphQL Modules<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://github.com/mirumee/ariadne-auth?tab=readme-ov-file" target=_blank rel="noopener noreferrer" class=footer__link-item>Ariadne Auth<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://github.com/mirumee/ariadne-lambda?tab=readme-ov-file" target=_blank rel="noopener noreferrer" class=footer__link-item>Ariadne AWS Lambda Extension<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=mailto:ariadne@mirumee.com target=_blank rel="noopener noreferrer" class=footer__link-item>Email<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://x.com/AriadneGraphQL target=_blank rel="noopener noreferrer" class=footer__link-item>X<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://mirumee.com/blog target=_blank rel="noopener noreferrer" class=footer__link-item>Blog<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://github.com/mirumee/Ariadne?tab=readme-ov-file#ariadne-ecosystem" target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025  Mirumee Software.</div></div></div></footer></div>