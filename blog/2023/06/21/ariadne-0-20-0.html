<!doctype html><html lang=en dir=ltr class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Ariadne 0.20 | Ariadne · Python GraphQL Schema-first</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://ariadnegraphql.org/img/docusaurus-social-card.jpg><meta data-rh=true name=twitter:image content=https://ariadnegraphql.org/img/docusaurus-social-card.jpg><meta data-rh=true property=og:url content=https://ariadnegraphql.org/blog/2023/06/21/ariadne-0-20-0><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docusaurus_tag content=default><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docsearch:docusaurus_tag content=default><meta data-rh=true property=og:title content="Ariadne 0.20 | Ariadne · Python GraphQL Schema-first"><meta data-rh=true name=description content="Ariadne 0.20 has been released!"><meta data-rh=true property=og:description content="Ariadne 0.20 has been released!"><meta data-rh=true property=og:type content=article><meta data-rh=true property=article:published_time content=2023-06-21T00:00:00.000Z><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://ariadnegraphql.org/blog/2023/06/21/ariadne-0-20-0><link data-rh=true rel=alternate href=https://ariadnegraphql.org/blog/2023/06/21/ariadne-0-20-0 hreflang=en><link data-rh=true rel=alternate href=https://ariadnegraphql.org/blog/2023/06/21/ariadne-0-20-0 hreflang=x-default><link data-rh=true rel=preconnect href=https://BYJBYPP90Q-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@id":"https://ariadnegraphql.org/blog/2023/06/21/ariadne-0-20-0","@type":"BlogPosting","author":[],"datePublished":"2023-06-21T00:00:00.000Z","description":"Ariadne 0.20 has been released!","headline":"Ariadne 0.20","isPartOf":{"@id":"https://ariadnegraphql.org/blog","@type":"Blog","name":"Blog"},"keywords":[],"mainEntityOfPage":"https://ariadnegraphql.org/blog/2023/06/21/ariadne-0-20-0","name":"Ariadne 0.20","url":"https://ariadnegraphql.org/blog/2023/06/21/ariadne-0-20-0"}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Ariadne · Python GraphQL Schema-first RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Ariadne · Python GraphQL Schema-first Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-5LQNZWZVVS"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-5LQNZWZVVS",{anonymize_ip:!0})</script><link rel=search type=application/opensearchdescription+xml title="Ariadne · Python GraphQL Schema-first" href=/opensearch.xml><link rel=stylesheet href=/assets/css/styles.19ff8338.css><script src=/assets/js/runtime~main.e7250d88.js defer></script><script src=/assets/js/main.7655ce5a.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/logo-horizontal-sm.png><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo-horizontal-sm.png alt="Ariadne Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/logo-horizontal-sm.png alt="Ariadne Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href=/server/intro>Server</a><div class="navbar__item dropdown dropdown--hoverable"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/server/intro>0.25</a><ul class=dropdown__menu><li><a class=dropdown__link href=/server/next/intro>Next</a><li><a class=dropdown__link href=/server/intro>0.25</a><li><a class=dropdown__link href=/server/0.24/intro>0.24</a><li><a class=dropdown__link href=/server/0.23/intro>0.23</a><li><a class=dropdown__link href=/server/0.22/intro>0.22</a><li><a class=dropdown__link href=/server/0.21/intro>0.21</a><li><a class=dropdown__link href=/server/0.20/intro>0.20</a><li><a class=dropdown__link href=/server/0.19/intro>0.19</a><li><a class=dropdown__link href=/server/0.18/intro>0.18</a><li><a class=dropdown__link href=/server/0.17/intro>0.17</a><li><a class=dropdown__link href=/server/0.16/intro>0.16</a><li><a class=dropdown__link href=/server/0.15/intro>0.15</a><li><a class=dropdown__link href=/server/0.14.0/intro>0.14.0</a><li><a class=dropdown__link href=/server/0.13.0/intro>0.13.0</a><li><a class=dropdown__link href=/server/0.12.0/intro>0.12.0</a><li><a class=dropdown__link href=/server/0.11.0/intro>0.11.0</a><li><a class=dropdown__link href=/server/0.10.0/intro>0.10.0</a><li><a class=dropdown__link href=/server/0.9.0/intro>0.9.0</a><li><a class=dropdown__link href=/server/0.8.0/intro>0.8.0</a><li><a class=dropdown__link href=/server/0.7.0/intro>0.7.0</a><li><a class=dropdown__link href=/server/0.6.0/intro>0.6.0</a><li><a class=dropdown__link href=/server/0.5.0/intro>0.5.0</a><li><a class=dropdown__link href=/server/0.4.0/intro>0.4.0</a></ul></div><a class="navbar__item navbar__link" href=/client/intro>Client</a><div class="navbar__item dropdown dropdown--hoverable"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/client/intro>0.15.3</a><ul class=dropdown__menu><li><a class=dropdown__link href=/client/next/intro>Next</a><li><a class=dropdown__link href=/client/intro>0.15.3</a></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/blog>Blog</a><a class="navbar__item navbar__link" href=/community>Community</a><a href="https://github.com/mirumee/Ariadne?tab=readme-ov-file#ariadne-ecosystem" target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role=group><h3 class=yearGroupHeading_rMGB>2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/blog/2024/12/19/ariadne-0-24>Ariadne 0.24</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/blog/2024/03/26/ariadne-graphql-proxy-0-3>Ariadne GraphQL Proxy 0.3</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/blog/2024/03/18/ariadne-0-23>Ariadne 0.23</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/blog/2024/03/04/ariadne-codegen-0-13>Ariadne Codegen 0.13</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/blog/2024/02/21/ariadne-graphql-modules-0-8>Ariadne GraphQL Modules 0.8</a></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class=title_f1Hy>Ariadne 0.20</h1><div class="container_mt6G margin-vert--md"><time datetime=2023-06-21T00:00:00.000Z>June 21, 2023</time> · <!-- -->4 min read</div></header><div id=__blog-post-container class=markdown><p>Ariadne 0.20 has been released!</p>
<p>This release removes support for Python 3.7, adds Open Telemetry extension, deprecates Open Tracing and Apollo Tracing extensions.</p>
<p>It also includes bugfixes, new configuration options and updated GraphQL extensions that should perform better than previous ones in asynchronous servers.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=dropped-python-37-support>Dropped Python 3.7 support<a href=#dropped-python-37-support class=hash-link aria-label="Direct link to Dropped Python 3.7 support" title="Direct link to Dropped Python 3.7 support">​</a></h2>
<p>Python 3.7 reaches end of life on 27 June 2023, but we are already experiencing some of Ariadne's tests failing for it due to the dependencies being ahead of us in dropping support.</p>
<p>Ariadne 0.20 drops support for Python 3.7. It may still work on Python 3.7, we will not test against it anymore and bugs and crashes specific to it will not be addressed.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=new-extensions-implementation>New extensions implementation<a href=#new-extensions-implementation class=hash-link aria-label="Direct link to New extensions implementation" title="Direct link to New extensions implementation">​</a></h2>
<blockquote>
<p><strong>Note:</strong> This is a breaking change. See the <a href=/server/middleware>middleware</a> document for new guide for developers.</p>
</blockquote>
<p>In the past Ariadne shipped with both synchronous and asynchronous GraphQL extensions. Our users reported that asynchronous extensions suffered from performance issues, which we've attempted to resolve together with the community through extra configuration options enabling exclusion of specified fields from tracing, but this didn't lead to noticeable improvements.</p>
<p>We've received an important tip from Christoph Zwerschke, developer of the <code>GraphQL-core 3</code> library which powers Ariadne's GraphQL implementation. In short, using asynchronous middleware resulted in every GraphQL field becoming asynchronous, even those excluded from tracing. Async/await in Python is generally fast enough, but it's overhead is non-negligible, especially for thousands of calls that happen during GraphQL query execution.</p>
<p>Ariadne 0.20 adds a benchmarks suite to the project. This suite allowed us to measure the performance hit on no-op asynchronous GraphQL extension (around 1.66 times slower than baseline query execution on Python 3.11).</p>
<p>In this release we have also dropped separate implementations for asynchronous and synchronous extensions. Ariadne's GraphQL extensions are now always synchronous, but in scenarios where the GraphQL resolver or its return value is asynchronous, those extensions return asynchronous closure for GraphQL's query executor to evaluate.</p>
<p>Quick results from last benchmarks are:</p>
<ul>
<li>1x: GraphQL query execution without any extensions enabled.</li>
<li>1.1x slower: GraphQL query execution with single no-op extension enabled.</li>
<li>1.31x slower: GraphQL query execution with single extension enabled, using the <code>OpenTelemetry</code> extension.</li>
</ul>
<p>We are happy with those gains and hope that our community will share our optimism at this change, even if the extensions system becomes more complex for extension developers.</p>
<p>Documentation for extensions and middleware was updated accordingly to explain the performance pitfall of using async extensions and new way to implement extensions that support both async and sync resolvers.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=migrating-existing-projects-to-new-extensions>Migrating existing projects to new extensions<a href=#migrating-existing-projects-to-new-extensions class=hash-link aria-label="Direct link to Migrating existing projects to new extensions" title="Direct link to Migrating existing projects to new extensions">​</a></h3>
<p>To update your project to use new extensions:</p>
<ul>
<li>replace <code>OpenTracingSync</code> with <code>OpenTracing</code>.</li>
<li>replace <code>opentracing_extension_sync</code> with <code>opentracing_extension</code>.</li>
<li>replace <code>ApolloTracingSync</code> with <code>ApolloTracing</code>.</li>
</ul>
<p><code>ExtensionSync</code> base class was also removed from Ariadne. Please use <code>Extension</code> as base class for custom extensions. See the <a href=/server/middleware>middleware</a> document for the guide for new middlewares what support both async and sync execution.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=deprecated-open-tracing-and-apollo-tracing>Deprecated Open Tracing and Apollo Tracing<a href=#deprecated-open-tracing-and-apollo-tracing class=hash-link aria-label="Direct link to Deprecated Open Tracing and Apollo Tracing" title="Direct link to Deprecated Open Tracing and Apollo Tracing">​</a></h2>
<p>The Open Tracing standard has been deprecated and is superseded by the Open Telemetry.</p>
<p>Apollo Tracing was deprecated by Apollo, with new a APM solution available but not supported by Ariadne.</p>
<p>Both of those extensions will be dropped in future release of Ariadne.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=new-features>New features<a href=#new-features class=hash-link aria-label="Direct link to New features" title="Direct link to New features">​</a></h2>
<p>Ariadne's <code>ASGI</code> and <code>WSGI</code> applications now implement new <code>query_validator</code> option that enables customization of GraphQL query validation process.</p>
<p>Added <code>OpenTelemetry</code> and <code>opentelemetry_extension</code> extensions for enabling the Open Telemetry APM for GraphQL servers. Those are importable from <code>ariadne.tracing.opentelemetry</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=bugs-fixed>Bugs fixed<a href=#bugs-fixed class=hash-link aria-label="Direct link to Bugs fixed" title="Direct link to Bugs fixed">​</a></h2>
<p>Fixed <code>ERROR</code> message in GraphQL-WS protocol having invalid payload type. This error occurred in a limited number of cases but was still a pain point for scenarios where Ariadne was used for GraphQL subscriptions.</p>
<p>Ariadne's GraphQL query cost validator did not handle the inline fragments. This was reported and fixed by our amazing friends at <a href=https://saleor.io target=_blank rel="noopener noreferrer">Saleor</a>!</p>
<p><code>make_executable_schema</code> would raise an error if GraphQL SDL passed to it contained <code>field(arg: InputType = null)</code>. This was corrected.</p>
<p>GraphiQL2's default template shipped with Ariadne used development builds of React.js. This template was updated to use production builds instead.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=changelog>Changelog<a href=#changelog class=hash-link aria-label="Direct link to Changelog" title="Direct link to Changelog">​</a></h2>
<ul>
<li>Dropped support for Python 3.7.</li>
<li>Added <code>OpenTelemetry</code> and <code>opentelemetry_extension</code> extension, importable form <code>ariadne.tracing.opentelemetry</code>.</li>
<li>Added <code>query_validator</code> option to ASGI and WSGI <code>GraphQL</code> applications that enables customization of query validation step.</li>
<li>Fixed <code>ERROR</code> message in GraphQL-WS protocol having invalid payload type.</li>
<li>Fixed query cost validator incorrect handling of inline fragments.</li>
<li>Fixed <code>make_executable_schema</code> error when <code>null</code> is used as default value for <code>input</code> typed field argument.</li>
<li>Updated default GraphiQL2 template to use production build of React.js.</li>
<li>Removed <code>ExtensionSync</code>. <code>Extension</code> now supports both async and sync contexts.</li>
<li>Removed <code>OpenTracingSync</code> and <code>opentracing_extension_sync</code>. <code>OpenTracing</code> and <code>opentracing_extension</code> now support both async and sync contexts.</li>
<li>Removed <code>ApolloTracingSync</code>. <code>ApolloTracing</code> now supports both async and sync contexts.</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/blog/2023/06/27/ariadne-0-20-1><div class=pagination-nav__sublabel>Newer post</div><div class=pagination-nav__label>Ariadne 0.20.1</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/blog/2023/06/15/ariadne-graphql-proxy><div class=pagination-nav__sublabel>Older post</div><div class=pagination-nav__label>Introducing Ariadne GraphQL Proxy</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#dropped-python-37-support class="table-of-contents__link toc-highlight">Dropped Python 3.7 support</a><li><a href=#new-extensions-implementation class="table-of-contents__link toc-highlight">New extensions implementation</a><ul><li><a href=#migrating-existing-projects-to-new-extensions class="table-of-contents__link toc-highlight">Migrating existing projects to new extensions</a></ul><li><a href=#deprecated-open-tracing-and-apollo-tracing class="table-of-contents__link toc-highlight">Deprecated Open Tracing and Apollo Tracing</a><li><a href=#new-features class="table-of-contents__link toc-highlight">New features</a><li><a href=#bugs-fixed class="table-of-contents__link toc-highlight">Bugs fixed</a><li><a href=#changelog class="table-of-contents__link toc-highlight">Changelog</a></ul></div></div></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Ariadne ecosystem</div><ul class="footer__items clean-list"><li class=footer__item><a href="https://github.com/mirumee/ariadne?tab=readme-ov-file" target=_blank rel="noopener noreferrer" class=footer__link-item>Ariadne GraphQL Server<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://github.com/mirumee/ariadne-codegen?tab=readme-ov-file" target=_blank rel="noopener noreferrer" class=footer__link-item>Ariadne GraphQL Client<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://github.com/mirumee/ariadne-graphql-modules?tab=readme-ov-file" target=_blank rel="noopener noreferrer" class=footer__link-item>Ariadne GraphQL Modules<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://github.com/mirumee/ariadne-auth?tab=readme-ov-file" target=_blank rel="noopener noreferrer" class=footer__link-item>Ariadne Auth<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://github.com/mirumee/ariadne-lambda?tab=readme-ov-file" target=_blank rel="noopener noreferrer" class=footer__link-item>Ariadne AWS Lambda Extension<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=mailto:ariadne@mirumee.com target=_blank rel="noopener noreferrer" class=footer__link-item>Email<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://x.com/AriadneGraphQL target=_blank rel="noopener noreferrer" class=footer__link-item>X<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href="https://mirumee.com/blog?utm_source=ariadne_docs&utm_medium=referral" target=_blank rel="noopener noreferrer" class=footer__link-item>Blog<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://github.com/mirumee/Ariadne?tab=readme-ov-file#ariadne-ecosystem" target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025  Mirumee Software.</div></div></div></footer></div>