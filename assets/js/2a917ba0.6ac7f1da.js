"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["35863"],{99481:function(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>d});var a=t(74756),i=t(74848),s=t(84429);let o={title:"Ariadne 0.8.0"},r,l={authorsImageUrls:[]},d=[{value:"Modularization improvements",id:"modularization-improvements",level:2},{value:"<code>python-multipart</code> is now an optional dependency",id:"python-multipart-is-now-an-optional-dependency",level:2},{value:"CHANGELOG",id:"changelog",level:2}];function c(e){let n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Ariadne 0.8 release brings improvements to API modularization, makes ",(0,i.jsx)(n.code,{children:"python-multipart"})," optional dependency, and updates dependencies to latest versions. We have also added Python 3.8 to the list of officially supported Python versions."]}),"\n",(0,i.jsx)(n.h2,{id:"modularization-improvements",children:"Modularization improvements"}),"\n",(0,i.jsxs)(n.p,{children:["We've noticed an emerging pattern in GraphQL APIs implemented with Ariadne where developers create dedicated modules/packages in their project for scalars, mutations or types and then use their ",(0,i.jsx)(n.code,{children:"__init__.py's"})," to gather all bindables into single lists:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from .scalars import scalars  # [date_scalar, datetime_scalar]\nfrom .types import types  # [query, book, user]\nfrom .mutations import mutations  # [login, register, add_book, edit_book, publish_book, delete_book]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Those lists were then combined into single large list at the time of passing them to ",(0,i.jsx)(n.code,{children:"make_executable_schema"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"schema = make_executable_schema(type_defs, scalars + types + mutations)\n"})}),"\n",(0,i.jsx)(n.p,{children:"This code didn't look too pleasant to us, and things only became worse when single bindable was thrown into the mix:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from somewhere import library_type\n\nschema = make_executable_schema(type_defs, scalars + types + mutations + [library_type])\n"})}),"\n",(0,i.jsxs)(n.p,{children:["We've decided to change ",(0,i.jsx)(n.code,{children:"make_executable_schema"})," implementation and turn ",(0,i.jsx)(n.code,{children:"bindables"})," into ",(0,i.jsx)(n.code,{children:"*args"}),", enabling much cleaner syntax:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"schema = make_executable_schema(type_defs, scalars, types, mutations, library_type)\n"})}),"\n",(0,i.jsx)(n.p,{children:"For the time being both approaches are be supported (and also can be mixed at same time), but we recommend all developers to migrate their projects to new approach."}),"\n",(0,i.jsx)(n.p,{children:"In future version of Ariadne mixing lists with single bindables will require explicit syntax:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"schema = make_executable_schema(type_defs, *scalars, *types, *mutations, library_type])\n"})}),"\n",(0,i.jsxs)(n.p,{children:["We have also fixed ",(0,i.jsx)(n.code,{children:"load_schema_from_path"})," implementation to actually walk subdirectories in given path to find and parse ",(0,i.jsx)(n.code,{children:"*.graphql"})," files, as it was documented."]}),"\n",(0,i.jsxs)(n.h2,{id:"python-multipart-is-now-an-optional-dependency",children:[(0,i.jsx)(n.code,{children:"python-multipart"})," is now an optional dependency"]}),"\n",(0,i.jsxs)(n.p,{children:["We have received a feedback that always installing ",(0,i.jsx)(n.code,{children:"python-multipart"})," dependency is unwarranted behavior due to library being only required for file uploads in ASGI-based GraphQL servers and having potential name conflict with other library."]}),"\n",(0,i.jsxs)(n.p,{children:["To address this we have made library optional. Developers may opt-in to install it by using ",(0,i.jsx)(n.code,{children:"asgi-file-uploads"})," extra flag:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-console",children:"pip install ariadne[asgi-file-uploads]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"changelog",children:"CHANGELOG"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Added recursive loading of GraphQL schema files from provided path."}),"\n",(0,i.jsxs)(n.li,{children:["Added support for passing multiple bindables as ",(0,i.jsx)(n.code,{children:"*args"})," to ",(0,i.jsx)(n.code,{children:"make_executable_schema"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Updated Starlette dependency to 0.13."}),"\n",(0,i.jsxs)(n.li,{children:["Made ",(0,i.jsx)(n.code,{children:"python-multipart"})," optional dependency for ",(0,i.jsx)(n.code,{children:"asgi-file-uploads"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Added Python 3.8 to officially supported versions."}),"\n"]})]})}function p(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},84429:function(e,n,t){t.d(n,{R:()=>o,x:()=>r});var a=t(96540);let i={},s=a.createContext(i);function o(e){let n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),a.createElement(s.Provider,{value:n},e.children)}},74756:function(e){e.exports=JSON.parse('{"permalink":"/blog/2019/11/25/ariadne-0-8-0","source":"@site/blog/2019-11-25-ariadne-0-8-0.md","title":"Ariadne 0.8.0","description":"Ariadne 0.8 release brings improvements to API modularization, makes python-multipart optional dependency, and updates dependencies to latest versions. We have also added Python 3.8 to the list of officially supported Python versions.","date":"2019-11-25T00:00:00.000Z","tags":[],"readingTime":1.83,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Ariadne 0.8.0"},"unlisted":false,"prevItem":{"title":"Ariadne 0.9.0","permalink":"/blog/2019/12/11/ariadne-0-9-0"},"nextItem":{"title":"Ariadne 0.7.0","permalink":"/blog/2019/10/03/ariadne-0-7-0"}}')}}]);