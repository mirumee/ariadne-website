"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["97845"],{53865:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>i,toc:()=>o,default:()=>h,metadata:()=>s,assets:()=>a,contentTitle:()=>l});var s=JSON.parse('{"id":"wsgi-reference","title":"WSGI reference","description":"The ariadne.wsgi module exports the WSGI application and middleware:","source":"@site/server_versioned_docs/version-0.24/wsgi-reference.md","sourceDirName":".","slug":"/wsgi-reference","permalink":"/server/0.24/wsgi-reference","draft":false,"unlisted":false,"tags":[],"version":"0.24","frontMatter":{"id":"wsgi-reference","title":"WSGI reference","sidebar_label":"ariadne.wsgi"},"sidebar":"tutorialSidebar","previous":{"title":"ariadne.types","permalink":"/server/0.24/types-reference"},"next":{"title":"Ariadne logo","permalink":"/server/0.24/logo"}}'),d=r(74848),t=r(84429);let i={id:"wsgi-reference",title:"WSGI reference",sidebar_label:"ariadne.wsgi"},l,a={},o=[{value:"<code>GraphQL</code>",id:"graphql",level:2},{value:"Constructor",id:"constructor",level:3},{value:"Required arguments",id:"required-arguments",level:4},{value:"Optional arguments",id:"optional-arguments",level:4},{value:"Methods",id:"methods",level:3},{value:"<code>__call__</code>",id:"__call__",level:4},{value:"Required arguments",id:"required-arguments-1",level:5},{value:"<code>handle_graphql_error</code>",id:"handle_graphql_error",level:4},{value:"Required arguments",id:"required-arguments-2",level:5},{value:"<code>handle_http_error</code>",id:"handle_http_error",level:4},{value:"Required arguments",id:"required-arguments-3",level:5},{value:"<code>handle_request</code>",id:"handle_request",level:4},{value:"Required arguments",id:"required-arguments-4",level:5},{value:"<code>handle_get</code>",id:"handle_get",level:4},{value:"Required arguments",id:"required-arguments-5",level:5},{value:"<code>handle_get_query</code>",id:"handle_get_query",level:4},{value:"<code>extract_data_from_get</code>",id:"extract_data_from_get",level:4},{value:"Required arguments",id:"required-arguments-6",level:5},{value:"<code>handle_get_explorer</code>",id:"handle_get_explorer",level:4},{value:"Required arguments",id:"required-arguments-7",level:5},{value:"<code>handle_post</code>",id:"handle_post",level:4},{value:"Required arguments",id:"required-arguments-8",level:5},{value:"<code>get_request_data</code>",id:"get_request_data",level:4},{value:"Required arguments",id:"required-arguments-9",level:5},{value:"<code>extract_data_from_json_request</code>",id:"extract_data_from_json_request",level:4},{value:"Required arguments",id:"required-arguments-10",level:5},{value:"<code>get_request_content_length</code>",id:"get_request_content_length",level:4},{value:"Required arguments",id:"required-arguments-11",level:5},{value:"<code>get_request_body</code>",id:"get_request_body",level:4},{value:"Required arguments",id:"required-arguments-12",level:5},{value:"<code>extract_data_from_multipart_request</code>",id:"extract_data_from_multipart_request",level:4},{value:"Required arguments",id:"required-arguments-13",level:5},{value:"<code>execute_query</code>",id:"execute_query",level:4},{value:"Required arguments",id:"required-arguments-14",level:5},{value:"<code>get_context_for_request</code>",id:"get_context_for_request",level:4},{value:"Required arguments",id:"required-arguments-15",level:5},{value:"<code>get_extensions_for_request</code>",id:"get_extensions_for_request",level:4},{value:"Required arguments",id:"required-arguments-16",level:5},{value:"<code>get_middleware_for_request</code>",id:"get_middleware_for_request",level:4},{value:"Required arguments",id:"required-arguments-17",level:5},{value:"<code>return_response_from_result</code>",id:"return_response_from_result",level:4},{value:"Required arguments",id:"required-arguments-18",level:5},{value:"<code>handle_not_allowed_method</code>",id:"handle_not_allowed_method",level:4},{value:"Required arguments",id:"required-arguments-19",level:5},{value:"<code>GraphQLMiddleware</code>",id:"graphqlmiddleware",level:2},{value:"Constructor",id:"constructor-1",level:3},{value:"Required arguments",id:"required-arguments-20",level:4},{value:"Optional arguments",id:"optional-arguments-1",level:4},{value:"Methods",id:"methods-1",level:3},{value:"<code>__call__</code>",id:"__call__-1",level:4},{value:"Required arguments",id:"required-arguments-21",level:5},{value:"<code>FormData</code>",id:"formdata",level:2},{value:"Attributes",id:"attributes",level:3},{value:"Constructor",id:"constructor-2",level:3},{value:"Optional arguments",id:"optional-arguments-2",level:4},{value:"Methods",id:"methods-2",level:3},{value:"<code>parse_charset</code>",id:"parse_charset",level:4},{value:"Optional arguments",id:"optional-arguments-3",level:5},{value:"<code>on_field</code>",id:"on_field",level:4},{value:"<code>on_file</code>",id:"on_file",level:4},{value:"<code>getvalue</code>",id:"getvalue",level:4},{value:"Required arguments",id:"required-arguments-22",level:5}];function c(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.p,{children:["The ",(0,d.jsx)(n.code,{children:"ariadne.wsgi"})," module exports the WSGI application and middleware:"]}),"\n",(0,d.jsx)(n.h2,{id:"graphql",children:(0,d.jsx)(n.code,{children:"GraphQL"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"class GraphQL:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"WSGI application implementing the GraphQL server."}),"\n",(0,d.jsx)(n.h3,{id:"constructor",children:"Constructor"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def __init__(\n    self,\n    schema: GraphQLSchema,\n    *,\n    context_value: Optional[ContextValue],\n    root_value: Optional[RootValue],\n    query_parser: Optional[QueryParser],\n    query_validator: Optional[QueryValidator],\n    validation_rules: Optional[ValidationRules],\n    debug: bool,\n    introspection: bool,\n    explorer: Optional[Explorer],\n    logger: Optional[str],\n    error_formatter: ErrorFormatter,\n    execute_get_queries: bool,\n    extensions: Optional[Extensions],\n    middleware: Optional[Middlewares],\n    middleware_manager_class: Optional[Type[MiddlewareManager]],\n    execution_context_class: Optional[Type[ExecutionContext]],\n):\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Initializes the WSGI app."}),"\n",(0,d.jsx)(n.h4,{id:"required-arguments",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"schema"}),": an instance of ",(0,d.jsx)(n.a,{href:"https://graphql-core-3.readthedocs.io/en/latest/modules/type.html#graphql.type.GraphQLSchema",children:"GraphQL schema"})," to execute queries against."]}),"\n",(0,d.jsx)(n.h4,{id:"optional-arguments",children:"Optional arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"context_value"}),": a ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#contextvalue",children:(0,d.jsx)(n.code,{children:"ContextValue"})})," to use by this server for context.\nDefaults to ",(0,d.jsx)(n.code,{children:'{"request": request}'})," dictionary where ",(0,d.jsx)(n.code,{children:"request"})," is\nan WSGI environment dictionary."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"root_value"}),": a ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#rootvalue",children:(0,d.jsx)(n.code,{children:"RootValue"})})," to use by this server for root value.\nDefaults to ",(0,d.jsx)(n.code,{children:"None"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"query_parser"}),": a ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#queryparser",children:(0,d.jsx)(n.code,{children:"QueryParser"})})," to use by this server. Defaults to\n",(0,d.jsx)(n.code,{children:"graphql.parse"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"query_validator"}),": a ",(0,d.jsx)(n.code,{children:"QueryValidator"})," to use by this server. Defaults to\n",(0,d.jsx)(n.code,{children:"graphql.validate"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"validation_rules"}),": a ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#validationrules",children:(0,d.jsx)(n.code,{children:"ValidationRules"})})," list or callable returning a\nlist of extra validation rules server should use to validate the\nGraphQL queries. Defaults to ",(0,d.jsx)(n.code,{children:"None"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"debug"}),": a ",(0,d.jsx)(n.code,{children:"bool"})," controlling in server should run in debug mode or\nnot. Controls details included in error data returned to clients.\nDefaults to ",(0,d.jsx)(n.code,{children:"False"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"introspection"}),": a ",(0,d.jsx)(n.code,{children:"bool"})," controlling if server should allow the\nGraphQL introspection queries. If ",(0,d.jsx)(n.code,{children:"False"}),", introspection queries will\nfail to pass the validation. Defaults to ",(0,d.jsx)(n.code,{children:"True"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"/server/0.24/explorers",children:(0,d.jsx)(n.code,{children:"explorer"})}),": an instance of ",(0,d.jsx)(n.a,{href:"/server/0.24/explorers",children:(0,d.jsx)(n.code,{children:"Explorer"})})," subclass to use when the server\nreceives an HTTP GET request. If not set, default GraphQL explorer\nfor your version of Ariadne is used."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"logger"}),": a ",(0,d.jsx)(n.code,{children:"str"})," with name of logger or logger instance server\ninstance should use for logging errors. If not set, a logger named\n",(0,d.jsx)(n.code,{children:"ariadne"})," is used."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"error_formatter"}),": an ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#errorformatter",children:(0,d.jsx)(n.code,{children:"ErrorFormatter"})})," this server should use to format\nGraphQL errors returned to clients. If not set, default formatter\nimplemented by Ariadne is used."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"execute_get_queries"}),": a ",(0,d.jsx)(n.code,{children:"bool"})," that controls if ",(0,d.jsx)(n.code,{children:"query"})," operations\nsent using the ",(0,d.jsx)(n.code,{children:"GET"})," method should be executed. Defaults to ",(0,d.jsx)(n.code,{children:"False"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#extensions",children:(0,d.jsx)(n.code,{children:"extensions"})}),": an ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#extensions",children:(0,d.jsx)(n.code,{children:"Extensions"})})," list or callable returning a\nlist of extensions server should use during query execution. Defaults\nto no extensions."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"middleware"}),": a ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#middlewares",children:(0,d.jsx)(n.code,{children:"Middlewares"})})," list or callable returning a list of\nmiddlewares server should use during query execution. Defaults to no\nmiddlewares."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"middleware_manager_class"}),": a ",(0,d.jsx)(n.code,{children:"MiddlewareManager"})," type or subclass to\nuse for combining provided middlewares into single wrapper for resolvers\nby the server. Defaults to ",(0,d.jsx)(n.code,{children:"graphql.MiddlewareManager"}),". Is only used\nif ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#extensions",children:(0,d.jsx)(n.code,{children:"extensions"})})," or ",(0,d.jsx)(n.code,{children:"middleware"})," options are set."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"execution_context_class"}),": custom ",(0,d.jsx)(n.code,{children:"ExecutionContext"})," type to use by\nthis server to execute the GraphQL queries. Defaults to standard\ncontext type implemented by the ",(0,d.jsx)(n.code,{children:"graphql"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"methods",children:"Methods"}),"\n",(0,d.jsx)(n.h4,{id:"__call__",children:(0,d.jsx)(n.code,{children:"__call__"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def __call__(self, environ: dict, start_response: Callable) -> List[bytes]:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"An entrypoint to the WSGI application."}),"\n",(0,d.jsx)(n.p,{children:"Returns list of bytes with response body."}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-1",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"start_response"}),": a callable used to begin new HTTP response."]}),"\n",(0,d.jsx)(n.p,{children:"Details about the arguments and their usage are described in PEP 3333:"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.a,{href:"https://peps.python.org/pep-3333/",children:"https://peps.python.org/pep-3333/"})}),"\n",(0,d.jsx)(n.h4,{id:"handle_graphql_error",children:(0,d.jsx)(n.code,{children:"handle_graphql_error"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def handle_graphql_error(\n    self,\n    error: GraphQLError,\n    start_response: Callable,\n) -> List[bytes]:\n    ...\n"})}),"\n",(0,d.jsxs)(n.p,{children:["Handles a ",(0,d.jsx)(n.code,{children:"GraphQLError"})," raised from ",(0,d.jsx)(n.code,{children:"handle_request"})," and returns an\nerror response to the client."]}),"\n",(0,d.jsx)(n.p,{children:"Returns list of bytes with response body."}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-2",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"error"}),": a ",(0,d.jsx)(n.code,{children:"GraphQLError"})," instance."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"start_response"}),": a callable used to begin new HTTP response."]}),"\n",(0,d.jsx)(n.h4,{id:"handle_http_error",children:(0,d.jsx)(n.code,{children:"handle_http_error"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def handle_http_error(\n    self,\n    error: HttpError,\n    start_response: Callable,\n) -> List[bytes]:\n    ...\n"})}),"\n",(0,d.jsxs)(n.p,{children:["Handles a ",(0,d.jsx)(n.code,{children:"HttpError"})," raised from ",(0,d.jsx)(n.code,{children:"handle_request"})," and returns an\nerror response to the client."]}),"\n",(0,d.jsx)(n.p,{children:"Returns list of bytes with response body."}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-3",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"error"}),": a ",(0,d.jsx)(n.code,{children:"HttpError"})," instance."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"start_response"}),": a callable used to begin new HTTP response."]}),"\n",(0,d.jsx)(n.h4,{id:"handle_request",children:(0,d.jsx)(n.code,{children:"handle_request"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def handle_request(\n    self,\n    environ: dict,\n    start_response: Callable,\n) -> List[bytes]:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Handles WSGI HTTP request and returns a a response to the client."}),"\n",(0,d.jsx)(n.p,{children:"Returns list of bytes with response body."}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-4",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"start_response"}),": a callable used to begin new HTTP response."]}),"\n",(0,d.jsx)(n.h4,{id:"handle_get",children:(0,d.jsx)(n.code,{children:"handle_get"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def handle_get(self, environ: dict, start_response) -> List[bytes]:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Handles WSGI HTTP GET request and returns a response to the client."}),"\n",(0,d.jsx)(n.p,{children:"Returns list of bytes with response body."}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-5",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"start_response"}),": a callable used to begin new HTTP response."]}),"\n",(0,d.jsx)(n.h4,{id:"handle_get_query",children:(0,d.jsx)(n.code,{children:"handle_get_query"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def handle_get_query(\n    self,\n    environ: dict,\n    start_response,\n    query_params: dict,\n) -> List[bytes]:\n    ...\n"})}),"\n",(0,d.jsx)(n.h4,{id:"extract_data_from_get",children:(0,d.jsx)(n.code,{children:"extract_data_from_get"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def extract_data_from_get(self, query_params: dict) -> dict:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Extracts GraphQL data from GET request's querystring."}),"\n",(0,d.jsxs)(n.p,{children:["Returns a ",(0,d.jsx)(n.code,{children:"dict"})," with GraphQL query data that was not yet validated."]}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-6",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"query_params"}),": a ",(0,d.jsx)(n.code,{children:"dict"})," with parsed query string."]}),"\n",(0,d.jsx)(n.h4,{id:"handle_get_explorer",children:(0,d.jsx)(n.code,{children:"handle_get_explorer"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def handle_get_explorer(self, environ: dict, start_response) -> List[bytes]:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Handles WSGI HTTP GET explorer request and returns a response to the client."}),"\n",(0,d.jsx)(n.p,{children:"Returns list of bytes with response body."}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-7",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"start_response"}),": a callable used to begin new HTTP response."]}),"\n",(0,d.jsx)(n.h4,{id:"handle_post",children:(0,d.jsx)(n.code,{children:"handle_post"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def handle_post(self, environ: dict, start_response: Callable) -> List[bytes]:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Handles WSGI HTTP POST request and returns a a response to the client."}),"\n",(0,d.jsx)(n.p,{children:"Returns list of bytes with response body."}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-8",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"start_response"}),": a callable used to begin new HTTP response."]}),"\n",(0,d.jsx)(n.h4,{id:"get_request_data",children:(0,d.jsx)(n.code,{children:"get_request_data"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def get_request_data(self, environ: dict) -> dict:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Extracts GraphQL request data from request."}),"\n",(0,d.jsxs)(n.p,{children:["Returns a ",(0,d.jsx)(n.code,{children:"dict"})," with GraphQL query data that was not yet validated."]}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-9",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsx)(n.h4,{id:"extract_data_from_json_request",children:(0,d.jsx)(n.code,{children:"extract_data_from_json_request"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def extract_data_from_json_request(self, environ: dict) -> Any:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Extracts GraphQL data from JSON request."}),"\n",(0,d.jsxs)(n.p,{children:["Returns a ",(0,d.jsx)(n.code,{children:"dict"})," with GraphQL query data that was not yet validated."]}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-10",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsx)(n.h4,{id:"get_request_content_length",children:(0,d.jsx)(n.code,{children:"get_request_content_length"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def get_request_content_length(self, environ: dict) -> int:\n    ...\n"})}),"\n",(0,d.jsxs)(n.p,{children:["Validates and returns value from ",(0,d.jsx)(n.code,{children:"Content-length"})," header."]}),"\n",(0,d.jsxs)(n.p,{children:["Returns an ",(0,d.jsx)(n.code,{children:"int"})," with content length."]}),"\n",(0,d.jsxs)(n.p,{children:["Raises a ",(0,d.jsx)(n.code,{children:"HttpBadRequestError"})," error if ",(0,d.jsx)(n.code,{children:"Content-length"})," header is\nmissing or invalid."]}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-11",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsx)(n.h4,{id:"get_request_body",children:(0,d.jsx)(n.code,{children:"get_request_body"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def get_request_body(self, environ: dict, content_length: int) -> bytes:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Returns request's body."}),"\n",(0,d.jsxs)(n.p,{children:["Returns ",(0,d.jsx)(n.code,{children:"bytes"})," with request body of specified length."]}),"\n",(0,d.jsxs)(n.p,{children:["Raises a ",(0,d.jsx)(n.code,{children:"HttpBadRequestError"})," error if request body is empty."]}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-12",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"content_length"}),": an ",(0,d.jsx)(n.code,{children:"int"})," with content length."]}),"\n",(0,d.jsx)(n.h4,{id:"extract_data_from_multipart_request",children:(0,d.jsx)(n.code,{children:"extract_data_from_multipart_request"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def extract_data_from_multipart_request(self, environ: dict) -> Any:\n    ...\n"})}),"\n",(0,d.jsxs)(n.p,{children:["Extracts GraphQL data from ",(0,d.jsx)(n.code,{children:"multipart/form-data"})," request."]}),"\n",(0,d.jsxs)(n.p,{children:["Returns an unvalidated ",(0,d.jsx)(n.code,{children:"dict"})," with GraphQL query data."]}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-13",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsx)(n.h4,{id:"execute_query",children:(0,d.jsx)(n.code,{children:"execute_query"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def execute_query(self, environ: dict, data: dict) -> GraphQLResult:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Executes GraphQL query and returns its result."}),"\n",(0,d.jsxs)(n.p,{children:["Returns a ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#graphqlresult",children:(0,d.jsx)(n.code,{children:"GraphQLResult"})}),", a two items long ",(0,d.jsx)(n.code,{children:"tuple"})," with ",(0,d.jsx)(n.code,{children:"bool"})," for\nsuccess and JSON-serializable ",(0,d.jsx)(n.code,{children:"data"})," to return to client."]}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-14",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"data"}),": a GraphQL data."]}),"\n",(0,d.jsx)(n.h4,{id:"get_context_for_request",children:(0,d.jsx)(n.code,{children:"get_context_for_request"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def get_context_for_request(\n    self,\n    environ: dict,\n    data: dict,\n) -> Optional[ContextValue]:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Returns GraphQL context value for HTTP request."}),"\n",(0,d.jsxs)(n.p,{children:["Default ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#contextvalue",children:(0,d.jsx)(n.code,{children:"ContextValue"})})," for WSGI application is a ",(0,d.jsx)(n.code,{children:"dict"})," with single\n",(0,d.jsx)(n.code,{children:"request"})," key that contains WSGI environment dictionary."]}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-15",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"data"}),": a GraphQL data."]}),"\n",(0,d.jsx)(n.h4,{id:"get_extensions_for_request",children:(0,d.jsx)(n.code,{children:"get_extensions_for_request"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def get_extensions_for_request(\n    self,\n    environ: dict,\n    context: Optional[ContextValue],\n) -> ExtensionList:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Returns extensions to use when handling the GraphQL request."}),"\n",(0,d.jsxs)(n.p,{children:["Returns ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#extensionlist",children:(0,d.jsx)(n.code,{children:"ExtensionList"})}),", a list of extensions to use or ",(0,d.jsx)(n.code,{children:"None"}),"."]}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-16",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"context"}),": a ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#contextvalue",children:(0,d.jsx)(n.code,{children:"ContextValue"})})," for this request."]}),"\n",(0,d.jsx)(n.h4,{id:"get_middleware_for_request",children:(0,d.jsx)(n.code,{children:"get_middleware_for_request"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def get_middleware_for_request(\n    self,\n    environ: dict,\n    context: Optional[ContextValue],\n) -> Optional[MiddlewareList]:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Returns GraphQL middlewares to use when handling the GraphQL request."}),"\n",(0,d.jsxs)(n.p,{children:["Returns ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#middlewarelist",children:(0,d.jsx)(n.code,{children:"MiddlewareList"})}),", a list of middlewares to use or ",(0,d.jsx)(n.code,{children:"None"}),"."]}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-17",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"context"}),": a ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#contextvalue",children:(0,d.jsx)(n.code,{children:"ContextValue"})})," for this request."]}),"\n",(0,d.jsx)(n.h4,{id:"return_response_from_result",children:(0,d.jsx)(n.code,{children:"return_response_from_result"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def return_response_from_result(\n    self,\n    start_response: Callable,\n    result: GraphQLResult,\n) -> List[bytes]:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Returns WSGI response from GraphQL result."}),"\n",(0,d.jsx)(n.p,{children:"Returns a list of bytes with response body."}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-18",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"start_response"}),": a WSGI callable that initiates new response."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"result"}),": a ",(0,d.jsx)(n.a,{href:"/server/0.24/types-reference#graphqlresult",children:(0,d.jsx)(n.code,{children:"GraphQLResult"})})," for this request."]}),"\n",(0,d.jsx)(n.h4,{id:"handle_not_allowed_method",children:(0,d.jsx)(n.code,{children:"handle_not_allowed_method"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def handle_not_allowed_method(\n    self,\n    environ: dict,\n    start_response: Callable,\n) -> List[bytes]:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Handles request for unsupported HTTP method."}),"\n",(0,d.jsxs)(n.p,{children:["Returns 200 response for ",(0,d.jsx)(n.code,{children:"OPTIONS"})," request and 405 response for other\nmethods. All responses have empty body."]}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-19",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"start_response"}),": a WSGI callable that initiates new response."]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"graphqlmiddleware",children:(0,d.jsx)(n.code,{children:"GraphQLMiddleware"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"class GraphQLMiddleware:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Simple WSGI middleware routing requests to either app or GraphQL."}),"\n",(0,d.jsx)(n.h3,{id:"constructor-1",children:"Constructor"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def __init__(\n    self,\n    app: Callable,\n    graphql_app: Callable,\n    path: str = '/graphql/',\n):\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Initializes the WSGI middleware."}),"\n",(0,d.jsx)(n.p,{children:"Returns response from either application or GraphQL application"}),"\n",(0,d.jsx)(n.h4,{id:"required-arguments-20",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"app"}),": a WSGI application to route the request to if its path doesn't\nmatch the ",(0,d.jsx)(n.code,{children:"path"})," option."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"graphql_app"}),": a WSGI application to route the request to if its path\nmatches the ",(0,d.jsx)(n.code,{children:"path"})," option."]}),"\n",(0,d.jsx)(n.h4,{id:"optional-arguments-1",children:"Optional arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"path"}),": a ",(0,d.jsx)(n.code,{children:"str"})," with a path to the GraphQL application. Defaults to\n",(0,d.jsx)(n.code,{children:"/graphql/"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"methods-1",children:"Methods"}),"\n",(0,d.jsx)(n.h4,{id:"__call__-1",children:(0,d.jsx)(n.code,{children:"__call__"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def __call__(self, environ: dict, start_response: Callable) -> List[bytes]:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"An entrypoint to the WSGI middleware."}),"\n",(0,d.jsx)(n.p,{children:"Returns list of bytes with response body."}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-21",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"environ"}),": a WSGI environment dictionary."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"start_response"}),": a callable used to start new HTTP response."]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"formdata",children:(0,d.jsx)(n.code,{children:"FormData"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"class FormData:\n    ...\n"})}),"\n",(0,d.jsxs)(n.p,{children:["Feature-limited alternative of deprecated ",(0,d.jsx)(n.code,{children:"cgi"})," standard package."]}),"\n",(0,d.jsxs)(n.p,{children:["Holds the data from ",(0,d.jsx)(n.code,{children:"multipart/form-data"})," request."]}),"\n",(0,d.jsx)(n.h3,{id:"attributes",children:"Attributes"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"charset"}),": a string with charset extracted from ",(0,d.jsx)(n.code,{children:"Content-type"})," header.\nDefaults to ",(0,d.jsx)(n.code,{children:"latin-1"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"fields"}),": an ",(0,d.jsx)(n.code,{children:"dict"})," with form's fields names and values."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"files"}),": an ",(0,d.jsx)(n.code,{children:"dict"})," with form's files names and values."]}),"\n",(0,d.jsx)(n.h3,{id:"constructor-2",children:"Constructor"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def __init__(self, content_type: Optional[str]):\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Initializes form data instance."}),"\n",(0,d.jsx)(n.h4,{id:"optional-arguments-2",children:"Optional arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"content_type"}),": a string with content type header's value. If not\nprovided, ",(0,d.jsx)(n.code,{children:"latin-1"})," is used for content encoding."]}),"\n",(0,d.jsx)(n.h3,{id:"methods-2",children:"Methods"}),"\n",(0,d.jsx)(n.h4,{id:"parse_charset",children:(0,d.jsx)(n.code,{children:"parse_charset"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def parse_charset(self, content_type: Optional[str]) -> Optional[str]:\n    ...\n"})}),"\n",(0,d.jsxs)(n.p,{children:["Parses charset from ",(0,d.jsx)(n.code,{children:"Content-type"})," header"]}),"\n",(0,d.jsxs)(n.p,{children:["Returns none if ",(0,d.jsx)(n.code,{children:"content_type"})," is not provided, empty or missing the\n",(0,d.jsx)(n.code,{children:"charset="})," declaration."]}),"\n",(0,d.jsx)(n.h5,{id:"optional-arguments-3",children:"Optional arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"content_type"}),": a string with content type header's value."]}),"\n",(0,d.jsx)(n.h4,{id:"on_field",children:(0,d.jsx)(n.code,{children:"on_field"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def on_field(self, field) -> None:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Callback for HTTP request parser to provide field data."}),"\n",(0,d.jsxs)(n.p,{children:["Field name and value is decoded using the encoding stored in ",(0,d.jsx)(n.code,{children:"encoding"}),"\nattribute and stored in ",(0,d.jsx)(n.code,{children:"fields"})," attribute."]}),"\n",(0,d.jsx)(n.h4,{id:"on_file",children:(0,d.jsx)(n.code,{children:"on_file"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def on_file(self, file) -> None:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Callback for HTTP request parser to provide file data."}),"\n",(0,d.jsxs)(n.p,{children:["File's field name is decoded using the encoding stored in ",(0,d.jsx)(n.code,{children:"encoding"}),"\nattribute and stored in ",(0,d.jsx)(n.code,{children:"files"})," attribute."]}),"\n",(0,d.jsx)(n.h4,{id:"getvalue",children:(0,d.jsx)(n.code,{children:"getvalue"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def getvalue(self, field_name: str) -> str:\n    ...\n"})}),"\n",(0,d.jsx)(n.p,{children:"Get form field's value."}),"\n",(0,d.jsx)(n.p,{children:"Returns field's value or empty string if field didn't exist."}),"\n",(0,d.jsx)(n.h5,{id:"required-arguments-22",children:"Required arguments"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"field_name"}),": a ",(0,d.jsx)(n.code,{children:"str"})," with name of form field to return the value for."]})]})}function h(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},84429:function(e,n,r){r.d(n,{R:()=>i,x:()=>l});var s=r(96540);let d={},t=s.createContext(d);function i(e){let n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);