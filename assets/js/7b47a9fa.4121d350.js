"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["96447"],{91392:function(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>l});var t=r(83176),a=r(74848),i=r(84429);let o={title:"Ariadne 0.4.0"},s,d={authorsImageUrls:[]},l=[{value:"ASGI 3",id:"asgi-3",level:2},{value:"Easier Django integration",id:"easier-django-integration",level:2},{value:"Error reporting improvements",id:"error-reporting-improvements",level:2},{value:"Keeping you covered",id:"keeping-you-covered",level:2},{value:"CHANGELOG",id:"changelog",level:2}];function c(e){let n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"Ariadne 0.4.0 is now available, and with it bunch of features and improvements for developer experience, and bugfixes!"}),"\n",(0,a.jsx)(n.h2,{id:"asgi-3",children:"ASGI 3"}),"\n",(0,a.jsxs)(n.p,{children:["Our ASGI application has been updated to support version 3 of ASGI protocol, courtesy of ",(0,a.jsx)(n.a,{href:"https://www.starlette.io/",children:"Starlette 0.12"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"easier-django-integration",children:"Easier Django integration"}),"\n",(0,a.jsx)(n.p,{children:"We want to make process of starting out with GraphQL in Django easy. In Ariadne 0.3 we've provided example code on our docs that you could've copypasted to your project."}),"\n",(0,a.jsxs)(n.p,{children:["This approach was less than optimal, so in Ariadne 0.4 we are introducing ",(0,a.jsx)(n.code,{children:"ariadne.contrib.django"})," package that acts as Django app and provides GraphQL view that you can simply drop in your ",(0,a.jsx)(n.code,{children:"urls.py"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from ariadne.contrib.django.views import GraphQLView\nfrom django.urls import path\n\nfrom .schema import schema\n\nurlpatterns = [\n    ...\n    path('graphql/', GraphQLView.as_view(schema=schema), name='graphql'),\n]\n"})}),"\n",(0,a.jsxs)(n.p,{children:["To to sweeten the deal even, we are also providing two scalar implementations: ",(0,a.jsx)(n.code,{children:"Date"})," and ",(0,a.jsx)(n.code,{children:"Datetime"}),". Those two enable developers to exchange dates and datetimes between their UI and Python logic."]}),"\n",(0,a.jsx)(n.h2,{id:"error-reporting-improvements",children:"Error reporting improvements"}),"\n",(0,a.jsx)(n.p,{children:"In Ariadne 0.3 we've introduced extended error formatting support that added error's backtrace and content to GraphQL response, making it so much easier to get to source of the problem when debugging resolvers."}),"\n",(0,a.jsx)(n.p,{children:"In 0.4 we are further improving error reporting with introduction of error logging."}),"\n",(0,a.jsxs)(n.p,{children:["Internally Ariadne creates own logger, and then logs all errors and exceptions to it, enabling you to stay on the top of the situation. We've took extra care to make sure that logged errors contain not only information about field in GraphQL query that failed to resolve, but also actual exception data. It also plays good with existing error tracking systems like ",(0,a.jsx)(n.a,{href:"https://sentry.io",children:"Sentry"}),":"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Error logged to Sentry",src:r(77508).A+"",width:"1110",height:"1454"})}),"\n",(0,a.jsx)(n.h2,{id:"keeping-you-covered",children:"Keeping you covered"}),"\n",(0,a.jsx)(n.p,{children:"Based on feedback and reports we've received from early adopters we've added bunch of assertions and checks around our API to fail fast and let you spot your errors before your users do."}),"\n",(0,a.jsxs)(n.p,{children:["Also, because in 99% of cases custom scalar literal parser is just a thin wrapper unpacking value from AST ",(0,a.jsx)(n.code,{children:"ValueNode"})," and passing for value_parser, Ariadne 0.4 will provide this mechanism for you out of the box. If you still need custom literal handling logic - you can still do it."]}),"\n",(0,a.jsx)(n.h2,{id:"changelog",children:"CHANGELOG"}),"\n",(0,a.jsx)(n.p,{children:"Above were only the highlights of this release. Here's complete changelog for those interested in nitty-gritty details:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Updated ",(0,a.jsx)(n.code,{children:"graphql-core-next"})," to 1.0.4 which has feature parity with GraphQL.js 14.3.1 and better type annotations."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ariadne.asgi.GraphQL"})," is now an ASGI3 application. ASGI3 is now handled by all ASGI servers."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ObjectType.field"})," and ",(0,a.jsx)(n.code,{children:"SubscriptionType.source"})," decorators now raise ValueError when used without name argument (eg. ",(0,a.jsx)(n.code,{children:"@foo.field"}),")."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"ScalarType"})," will now use default literal parser that unpacks ",(0,a.jsx)(n.code,{children:"ast.value"})," and calls value parser if scalar has value parser set."]}),"\n",(0,a.jsxs)(n.li,{children:["Updated ",(0,a.jsx)(n.code,{children:"ariadne.asgi.GraphQL"})," and ",(0,a.jsx)(n.code,{children:"ariadne.wsgi.GraphQL"})," to support callables for ",(0,a.jsx)(n.code,{children:"context_value"})," and ",(0,a.jsx)(n.code,{children:"root_value"})," options."]}),"\n",(0,a.jsxs)(n.li,{children:["Added ",(0,a.jsx)(n.code,{children:"logger"})," option to ",(0,a.jsx)(n.code,{children:"ariadne.asgi.GraphQL"}),", ",(0,a.jsx)(n.code,{children:"ariadne.wsgi.GraphQL"})," and ",(0,a.jsx)(n.code,{children:"ariadne.graphql.*"})," utils."]}),"\n",(0,a.jsxs)(n.li,{children:["Added default logger that logs to ",(0,a.jsx)(n.code,{children:"ariadne"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Added support for ",(0,a.jsx)(n.code,{children:"extend type"})," in schema definitions."]}),"\n",(0,a.jsxs)(n.li,{children:["Removed unused ",(0,a.jsx)(n.code,{children:"format_errors"})," utility function and renamed ",(0,a.jsx)(n.code,{children:"ariadne.format_errors"})," module to ",(0,a.jsx)(n.code,{children:"ariadne.format_error"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Removed explicit ",(0,a.jsx)(n.code,{children:"typing"})," dependency."]}),"\n",(0,a.jsxs)(n.li,{children:["Added ",(0,a.jsx)(n.code,{children:"ariadne.contrib.django"})," package that provides Django class-based view together with ",(0,a.jsx)(n.code,{children:"Date"})," and ",(0,a.jsx)(n.code,{children:"Datetime"})," scalars."]}),"\n",(0,a.jsx)(n.li,{children:"Fixed default ENUM values not being set."}),"\n",(0,a.jsx)(n.li,{children:"Updated project setup so mypy ran in projects with Ariadne dependency run type checks against it's annotations."}),"\n",(0,a.jsx)(n.li,{children:"Updated Starlette to 0.12.0."}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},77508:function(e,n,r){r.d(n,{A:()=>t});let t=r.p+"assets/images/error-in-sentry-b5175b174cb8eb26464cbf0e1b570d47.png"},84429:function(e,n,r){r.d(n,{R:()=>o,x:()=>s});var t=r(96540);let a={},i=t.createContext(a);function o(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(i.Provider,{value:n},e.children)}},83176:function(e){e.exports=JSON.parse('{"permalink":"/blog/2019/05/23/ariadne-0-4-0","source":"@site/blog/2019-05-23-ariadne-0-4-0.md","title":"Ariadne 0.4.0","description":"Ariadne 0.4.0 is now available, and with it bunch of features and improvements for developer experience, and bugfixes!","date":"2019-05-23T00:00:00.000Z","tags":[],"readingTime":2.71,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Ariadne 0.4.0"},"unlisted":false,"prevItem":{"title":"Ariadne 0.5.0","permalink":"/blog/2019/06/07/ariadne-0-5-0"},"nextItem":{"title":"Ariadne 0.3.0","permalink":"/blog/2019/04/08/ariadne-0-3-0"}}')}}]);