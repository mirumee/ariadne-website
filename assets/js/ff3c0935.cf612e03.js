"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["39605"],{57576:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>i,toc:()=>u,default:()=>c,metadata:()=>t,assets:()=>l,contentTitle:()=>o});var t=JSON.parse('{"id":"enums","title":"Enumeration types","description":"Ariadne supports enumeration types, which are represented as strings in Python logic:","source":"@site/server_versioned_docs/version-0.11.0/enums.md","sourceDirName":".","slug":"/enums","permalink":"/server/0.11.0/enums","draft":false,"unlisted":false,"tags":[],"version":"0.11.0","frontMatter":{"id":"enums","title":"Enumeration types"},"sidebar":"tutorialSidebar","previous":{"title":"Custom scalars","permalink":"/server/0.11.0/scalars"},"next":{"title":"Union types","permalink":"/server/0.11.0/unions"}}'),r=s(74848),a=s(84429);let i={id:"enums",title:"Enumeration types"},o,l={},u=[{value:"Mapping to internal values",id:"mapping-to-internal-values",level:2}];function d(e){let n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Ariadne supports ",(0,r.jsx)(n.a,{href:"https://graphql.org/learn/schema/#enumeration-types",children:"enumeration types"}),", which are represented as strings in Python logic:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from ariadne import QueryType\nfrom db import get_users\n\ntype_defs = """\n    type Query{\n        users(status: UserStatus): [User]!\n    }\n\n    enum UserStatus{\n        ACTIVE\n        INACTIVE\n        BANNED\n    }\n"""\n\nquery = QueryType()\n\n@query.field("users")\ndef resolve_users(*_, status):\n    if status == "ACTIVE":\n        return get_users(is_active=True)\n    if status == "INACTIVE":\n        return get_users(is_active=False)\n    if status == "BANNED":\n        return get_users(is_banned=True)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The above example defines a resolver that returns a list of users based on user status, defined using the ",(0,r.jsx)(n.code,{children:"UserStatus"})," enumerable from the schema."]}),"\n",(0,r.jsxs)(n.p,{children:["Implementing logic validating if the ",(0,r.jsx)(n.code,{children:"status"})," value is allowed is not required - this is done by GraphQL. The below query will produce an error:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"{\n    users(status: TEST)\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["GraphQL failed to find ",(0,r.jsx)(n.code,{children:"TEST"})," in ",(0,r.jsx)(n.code,{children:"UserStatus"}),", and returned error without calling ",(0,r.jsx)(n.code,{children:"resolve_users"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "error": {\n        "errors": [\n            {\n                "message": "Argument \\"status\\" has invalid value TEST.\\nExpected type \\"UserStatus\\", found TEST.",\n                "locations": [\n                    {\n                        "line": 2,\n                        "column": 14\n                    }\n                ]\n            }\n        ]\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mapping-to-internal-values",children:"Mapping to internal values"}),"\n",(0,r.jsx)(n.p,{children:"By default enum values are represented as Python strings, but Ariadne also supports mapping GraphQL enums to custom values."}),"\n",(0,r.jsx)(n.p,{children:'Imagine posts on a social site that can have weights like "standard", "pinned" and "promoted":'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"type Post {\n    weight: PostWeight\n}\n\nenum PostWeight {\n    STANDARD\n    PINNED\n    PROMOTED\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"In the database, the application may store those weights as integers from 0 to 2. Normally, you would have to implement a custom resolver transforming GraphQL representation to the integer but, like with scalars, you would have to remember to use this boilerplate on every use."}),"\n",(0,r.jsxs)(n.p,{children:["Ariadne provides an ",(0,r.jsx)(n.code,{children:"EnumType"})," utility class thats allows you to delegate this task to GraphQL server:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import enum\n\nfrom ariadne import EnumType\n\nclass PostWeight(enum.IntEnum):\n    STANDARD = 1\n    PINNED = 2\n    PROMOTED = 3\n\npost_weight = EnumType("PostWeight", PostWeight)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Include the ",(0,r.jsx)(n.code,{children:"post_weight"})," instance in the list of types passed to your GraphQL server, and it will automatically translate ",(0,r.jsx)(n.code,{children:"Enum"}),"s between their GraphQL and Python values."]}),"\n",(0,r.jsxs)(n.p,{children:["Instead of ",(0,r.jsx)(n.code,{children:"Enum"})," you may use ",(0,r.jsx)(n.code,{children:"dict"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from ariadne import EnumType\n\npost_weight = EnumType(\n    "PostWeight",\n    {\n        "STANDARD": 1,\n        "PINNED": 2,\n        "PROMOTED": 3,\n    },\n)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Both ",(0,r.jsx)(n.code,{children:"Enum"})," and ",(0,r.jsx)(n.code,{children:"IntEnum"})," are supported by the ",(0,r.jsx)(n.code,{children:"EnumType"}),"."]})]})}function c(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},84429:function(e,n,s){s.d(n,{R:()=>i,x:()=>o});var t=s(96540);let r={},a=t.createContext(r);function i(e){let n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);